
<div class="block-header">
  <h2>
    Gateways List
  </h2>
</div>
<!-- Exportable Table -->
<div class="row clearfix">
  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
    <div class="card">
      <div class="header">
        <h2>GATEWAYS</h2>
        <ul class="header-dropdown m-r--5">
          <li class="dropdown"><a href="javascript:void(0);"
                                  class="dropdown-toggle" data-toggle="dropdown" role="button"
                                  aria-haspopup="true" aria-expanded="false"> <i
                  class="material-icons">more_vert</i>
          </a>
            <ul class="dropdown-menu pull-right">
              <li><a [routerLink]="['../add-new']">Add Gateway</a></li>
            </ul></li>
        </ul>
      </div>
      <div class="body">
        <div class="table-responsive">
          <table
                  class="table table-bordered table-striped table-hover dataTable js-exportable">
            <thead>
            <tr>
             <!-- <th>Sr. No.</th>
              <th>Name</th>
              <th>Location</th>
              <th>MAC</th>
              <th>IP</th>
              <th>Reading Capicity(in Meeters)</th>
              <th>School</th>
              <th>IsAchtive</th>
              <th>Action</th>-->
              <th *ngFor="let c of columns" [class.address-th]="c.key =='address'">
              <div *ngIf="c.isSortable" (click)="SortBy(c.key)" class="sorting-column">
                {{ c.title }}
                <i *ngIf="query.sortBy === c.key" class="material-icons">{{query.isSortAscending === -1 ?  'keyboard_arrow_down' : 'keyboard_arrow_up'}}</i>
              </div>
              <div *ngIf="!c.isSortable">
                {{ c.title }}
              </div>
              </th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let gateway of gateways; let i=index">
              <td>{{(pageSize* pageIndex)+i+1}}</td>
              <td>{{gateway.name}}</td>
              <td>{{gateway.location}}</td>
              <td>{{gateway.mac}}</td>
              <td>{{gateway.ip}}</td>
              <td>{{gateway.school.name}}</td>
              <td>{{gateway.readingDistance}}</td>

              <td>
                <mat-slide-toggle
                        name="isActive" [(ngModel)]="gateway.isActive" [checked]="gateway.isActive" [color]="color"
                        (change)="changeStatus($event, gateway)"
                >
                </mat-slide-toggle>
                <!--<div class="switch">
                  <label><input type="checkbox" [checked]="gateway.isActive" (click)="changeStatus(( gateway.isActive ? false : true ),gateway)"><span class="lever"></span></label>
                </div>-->
              </td>
              <td><a [routerLink]="['../edit/', gateway._id]"><i _ngcontent-c2="" class="material-icons">edit</i> </a>   <a (click)='deleteGateway( [gateway._id] )'><i _ngcontent-c2="" class="material-icons">delete</i> </a></td>

            </tr>
            <tr *ngIf="gateways?.length == 0">
              <td colspan="9" align="center">No data found!</td>
            </tr>
            </tbody>
          </table>
        </div>
        <mat-paginator [length]="pages"
                       [pageIndex]="pageIndex"
                       [pageSize]="pageSize"
                       [pageSizeOptions]="pageSizeOptions"
                       (page)="pageEvent = setPageData($event)">
        </mat-paginator>
      </div>
    </div>
  </div>
</div>
<!-- #END# Exportable Table -->